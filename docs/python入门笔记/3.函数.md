# 函数

- 函数是对一系列语句的组合，这些语句共同完成一种运算。

- 定义函数的时候，要给这个函数指定一个名字，另外还要写出这些进行运算的语句。

- 定义完成之后，就可以通过函数名来调用函数。



## 函数调用

一般来讲，函数都要传入一个参数，返回一个结果。结果也被叫做返回值。

Python提供了一些转换数值类型的函数：

例如

- int将值（数字型字符串、浮点数）转换成整型；

  ```python
  >>> int('77')
  77
  >>> int('fangyuan')
  ValueError: invalid literal for int() with base 10: 'fangyuan'
  ```

- float能把整型和字符串变成浮点数；

  ```python
  >>> float(32)
  32.0
  ```

- str可以把参数转变成字符串；

  ```python
  >>> str(77)
  '77'
  >>> str('fangyuan')
  'fangyuan'
  ```



## 数学函数

math数学模块，提供了绝大部分常用的数学函数。

模块就是一系列相关函数的集合的文件。

使用之前必须先导入模块，导入语句如下：

```python
>>> import math
```

这个语句建立了一个模块对象，名字叫做math。显示一下这个模块

```python
>>> math
<module 'math' from '/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/math.cpython-35m-darwin.so'>
```

模块对象包含了一些已经定义好的函数和变量。指定模块名和函数名，要用点来连接模块名和函数名，就可以调用指定的函数了。

例如，求2的平方根

```python
>>> math.sqrt(2)
1.4142135623730951
```



## 组合

程序所需要的大部分元素：变量、表达式、语句。

一门编程语言最有用的功能莫过于能够用一个个小模块来拼接创作。例如函数的参数可以是任何一种表达式，包括代数运算符（半径是1的45°角的弧长）：

```python
>>> x = math.sin(45/360*2 * math.pi)
>>> x
0.7071067811865475
```

声明语句的左边必须是变量名。

```python
>>> num = 7
```



## 自定义函数

函数定义要指定这个新函数的名字，还需要一系列语句放到这个函数里面，当调用这个函数的时候，就会运行这些语句了。

```python
def print_ybkj():
     print('YBKJ')
     print('FYJY')

print_ybkj()
YBKJ
FYJY
```



- 这里的def是一个关键字，意思是定义一个函数。

- 函数的命名规则和变量名规则基本差不多，注意尽量避免函数名和变量名发生重复。

- 如果函数名后面的括号是空的，表明这个函数不需要参数。

- 函数定义的第一行叫做头部，剩下的叫做函数体。函数头部的末尾必须有一个冒号，函数体必须是相对函数头部有缩进的。

**缩进是Python最强制的要求。**



交互模式下面定义函数完毕的结尾，必须输入一行空白行。例如：

```python
>>> def print_ybkj():
...      print('YBKJ')
...      print('FYJY')
...
>>>
```

调用新函数的语法和调用内置函数是一样的。

```python
>>> print_ybkj()
YBKJ
FYJY
```

一旦你定义了一个函数，就可以在其它函数里面来调用这个函数。

```python
def repeat_print():
    print_ybkj()
```



## 运行流程

一个Python程序都是从第一个语句开始运行的。从首至尾，每次运行一个语句。

函数的定义并不会改变程序的运行流程，但要注意，函数体内部的语句只有在函数被调用的时候才会运行。

因此，当阅读一个程序的时候，并不一定总是要从头到尾来读的。要按照运行流程来读才更好理解。



## 形式参数和实际参数

- 形参和实参实际上是传值方式的区别。

- 实际参数就是调用函数时候传给他的那个参数；

- 而形式参数可以理解为函数内部定义用的参数。



## 函数内部变量和形参都是局部的

在函数内部建立一个变量，这个变量是仅在函数体内部才存在的。

形式参数也是局部起作用的。



## 栈图

追踪一个变量能在哪些位置使用，就可以画个图来实现，叫做栈图。

栈图会表征每个变量的值，和所属的函数。

每个函数都用一个框架来表示。框架的边上要标明函数的名字，框内填写函数内部的形参和变量。



## 有返回值的函数和无返回值的函数

当你调用一个有返回值的函数的时候，一般都是要利用一下结果的。

```python
>>> import math
>>> x = math.sin(math.pi/2)
>>> x
1.0
```

如果调用没有返回值的函数赋给一个变量，就为None。

```python
>>> res = print('YBKJ')
YBKJ
>>> print(res)
None
```



## 为啥要用函数

- 把一组语句用一个名字来命名，读起来清晰，后期维护调试方便。

- 避免代码冗余，后期维护中，只要修改函数的一处地方就可以了。

- 长程序切分成一个个函数，就可以一步步来debug调试。

- 精细设计的函数会对很多程序有用处，可以再利用。



## 调试

调试像是侦探工作，面对很多代码，必须推断出导致当前结果的整个过程和事件。

编程和调试是一回事。编程就是对一个程序逐渐进行调试，一直到程序按照设想工作为止。这种思想意味着要从一段能工作的程序来起步，一点点做修改和调试。



## 部分术语列表

- 函数：一系列有序语句的组合，有自己的名字，并且用在某些特定用途。可以要求输入参数，也可以没有参数，可以返回值，也可以没有返回值。

- 函数定义：创建新函数的语句，确定函数的名字，形式参数，以及函数内部的语句。

- 运行流程：语句运行的先后次序。



**重要的事情说三遍：练习！练习！练习！**

